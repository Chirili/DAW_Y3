<!DOCTYPE html>
<html>
  <head>
  	<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0">
  	<style type="text/css">
  	/* TENEMOS QUE DARLE UN TAMAÑO AL DIV QUE CONTIENE EL MAPA. SI NO, NO SE VERÁ  */
      #divmapa {
      	width: 700px;
      	height: 700px;
      	border: 1px solid blue; 
     	}
          .map {
      height: 400px;
      width: 100%;
    }
    </style>
  	
    <title>API v3 de Google Maps. Ejemplo Básico</title>
    
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyBahlFBAy3VVdqSsqcQvSecFmnRhhbjP4o">
    </script>

    <script type="text/javascript">
    window.onload = ()=>{


    document.querySelector('#btCargarMapa').onclick = ()=>{
      cargarMapa();
    }
    }
    function cargarMapa(){
      let opciones ={
        center: {lat:37,lng:-5},
        zoom:14,

      }
      let mapa = new google.maps.Map(document.getElementById('divmapa'),opciones);
      google.maps.event.addListener(mapa,'click',function(e){
        ponVentana(e.latLng,mapa)
      });
    }
    function ponVentana(pos,mapa){
      console.log("aaaaaa");
      new google.maps.InfoWindow({
        position: pos,
        map: mapa,
        content:'Lat: '+pos.lat()+"Long:"+pos.lng()
      })
    }
      
    </script>
  </head>
  
  <body>
    <h3>API v3 de Google Maps. Ejemplo Básico</h3>
    <p>
    	<button id="btCargarMapa">Cargar Mapa</button>
    </p>
    <p>
    	<div id="divmapa">
    		Aquí pondremos el mapa
      </div>
    </p>
  </body>
  
</html>
